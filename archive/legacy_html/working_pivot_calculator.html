<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Working Professional Pivot Calculator</title>
    <script src="https://unpkg.com/lightweight-charts/dist/lightweight-charts.standalone.production.js"></script>
    <style>
        :root {
            --primary-bg: #1a1d29;
            --secondary-bg: #252836;
            --accent-bg: #2d3142;
            --border-color: #3a3d4a;
            --primary-text: #ffffff;
            --secondary-text: #b8bcc8;
            --accent-blue: #2563eb;
            --success: #10b981;
            --error: #ef4444;
            --accent-orange: #ea580c;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            background: var(--primary-bg);
            color: var(--primary-text);
            line-height: 1.5;
            font-size: 14px;
        }

        .container {
            display: flex;
            flex-direction: column;
            height: 100vh;
        }

        .header {
            background: var(--secondary-bg);
            padding: 15px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .title {
            font-size: 18px;
            font-weight: 600;
        }

        .subtitle {
            font-size: 12px;
            color: var(--secondary-text);
        }

        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .symbol-input {
            background: var(--accent-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 6px 12px;
            color: var(--primary-text);
            font-size: 13px;
            width: 80px;
            text-transform: uppercase;
        }

        .btn {
            background: var(--accent-blue);
            border: none;
            border-radius: 4px;
            color: white;
            padding: 6px 16px;
            font-size: 12px;
            cursor: pointer;
        }

        .btn:hover { background: #1d4ed8; }
        .btn:disabled { background: #374151; cursor: not-allowed; }

        .status {
            display: flex;
            align-items: center;
            gap: 6px;
            font-size: 11px;
            color: var(--secondary-text);
        }

        .status-dot {
            width: 6px;
            height: 6px;
            border-radius: 50%;
            background: var(--error);
        }
        .status-dot.connected { background: var(--success); }
        .status-dot.loading { background: var(--accent-orange); animation: pulse 1.5s infinite; }

        @keyframes pulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.5; } }

        .main-layout {
            flex: 1;
            display: grid;
            grid-template-columns: 300px 1fr 280px;
            gap: 1px;
            background: var(--border-color);
        }

        .panel {
            background: var(--primary-bg);
            padding: 20px;
            overflow-y: auto;
        }

        .panel-header {
            font-size: 13px;
            font-weight: 600;
            margin-bottom: 16px;
            padding-bottom: 8px;
            border-bottom: 1px solid var(--border-color);
        }

        .data-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
            margin-bottom: 16px;
        }

        .data-item {
            background: var(--secondary-bg);
            border-radius: 6px;
            padding: 12px;
            border: 1px solid var(--border-color);
        }

        .data-label {
            font-size: 11px;
            color: var(--secondary-text);
            margin-bottom: 4px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .data-value {
            font-size: 16px;
            font-weight: 600;
            color: var(--primary-text);
        }

        .data-change {
            font-size: 11px;
            margin-top: 2px;
        }
        .data-change.positive { color: var(--success); }
        .data-change.negative { color: var(--error); }

        .pivot-table {
            width: 100%;
            border-collapse: collapse;
            background: var(--secondary-bg);
            border-radius: 6px;
            overflow: hidden;
            border: 1px solid var(--border-color);
        }

        .pivot-table th {
            background: var(--accent-bg);
            padding: 10px 12px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--secondary-text);
            text-align: left;
        }

        .pivot-table td {
            padding: 10px 12px;
            border-top: 1px solid var(--border-color);
            font-size: 13px;
        }

        .level-resistance { color: #ef5350; font-weight: 600; }
        .level-support { color: var(--success); font-weight: 600; }
        .level-pivot { color: var(--accent-orange); font-weight: 600; }

        .price-value {
            font-family: 'SF Mono', Monaco, monospace;
            font-weight: 500;
        }

        .distance-value {
            font-size: 12px;
            font-family: monospace;
        }
        .distance-value.above { color: var(--success); }
        .distance-value.below { color: var(--error); }

        #chartContainer {
            background: var(--secondary-bg);
            height: 100%;
            min-height: 400px;
        }

        .chart-controls {
            background: var(--secondary-bg);
            padding: 12px 20px;
            border-bottom: 1px solid var(--border-color);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chart-title {
            font-size: 14px;
            font-weight: 600;
        }

        .pivot-selector {
            background: var(--accent-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            color: var(--primary-text);
            padding: 4px 12px;
            font-size: 11px;
        }

        .metric-item {
            background: var(--secondary-bg);
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 8px;
            border: 1px solid var(--border-color);
        }

        .metric-label {
            font-size: 11px;
            color: var(--secondary-text);
            margin-bottom: 2px;
        }

        .metric-value {
            font-size: 14px;
            font-weight: 600;
        }

        .error-banner {
            background: var(--error);
            color: white;
            padding: 10px 20px;
            font-size: 12px;
            text-align: center;
        }

        .success-banner {
            background: var(--success);
            color: white;
            padding: 10px 20px;
            font-size: 12px;
            text-align: center;
        }
    </style>
</head>
<body>
    <div class="container">
        <header class="header">
            <div>
                <div class="title">Professional Pivot Calculator - WORKING</div>
                <div class="subtitle">Real SPY data with functional charts and pivot analysis</div>
            </div>
            <div class="controls">
                <input type="text" id="symbolInput" class="symbol-input" value="SPY" maxlength="6">
                <button id="loadBtn" class="btn">Update Data</button>
                <div class="status">
                    <div id="statusDot" class="status-dot"></div>
                    <span id="statusText">Initializing</span>
                </div>
            </div>
        </header>

        <div id="banner"></div>

        <div class="main-layout">
            <!-- Market Data Panel -->
            <div class="panel">
                <div class="panel-header">Market Data</div>
                <div class="data-grid">
                    <div class="data-item">
                        <div class="data-label">Open</div>
                        <div class="data-value" id="openValue">--</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">High</div>
                        <div class="data-value" id="highValue">--</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Low</div>
                        <div class="data-value" id="lowValue">--</div>
                    </div>
                    <div class="data-item">
                        <div class="data-label">Close</div>
                        <div class="data-value" id="closeValue">--</div>
                        <div class="data-change" id="closeChange">--</div>
                    </div>
                </div>
                <div class="data-item" style="margin-bottom: 16px;">
                    <div class="data-label">Current Price</div>
                    <div class="data-value" id="currentValue">--</div>
                    <div class="data-change" id="currentChange">--</div>
                </div>
                <div class="data-item">
                    <div class="data-label">Last Updated</div>
                    <div class="data-value" id="lastUpdated" style="font-size: 12px;">--</div>
                </div>
            </div>

            <!-- Chart Panel -->
            <div class="panel" style="padding: 0;">
                <div class="chart-controls">
                    <div class="chart-title">Price Chart with Pivot Levels</div>
                    <select id="pivotTypeSelect" class="pivot-selector">
                        <option value="standard">Standard Pivots</option>
                        <option value="fibonacci">Fibonacci Pivots</option>
                        <option value="camarilla">Camarilla Pivots</option>
                    </select>
                </div>
                <div id="chartContainer"></div>
            </div>

            <!-- Pivot Levels Panel -->
            <div class="panel">
                <div class="panel-header">
                    Pivot Levels
                    <div style="font-size: 10px; color: var(--secondary-text); margin-top: 4px;">
                        ATR: <span id="atrValue">--</span>
                    </div>
                </div>
                <table class="pivot-table">
                    <thead>
                        <tr>
                            <th>Level</th>
                            <th>Price</th>
                            <th>Distance</th>
                        </tr>
                    </thead>
                    <tbody id="pivotTableBody">
                        <tr>
                            <td colspan="3" style="text-align: center; color: var(--secondary-text); padding: 20px;">
                                Loading...
                            </td>
                        </tr>
                    </tbody>
                </table>

                <div style="margin-top: 20px;">
                    <div class="panel-header" style="margin-bottom: 12px;">Analysis</div>
                    <div class="metric-item">
                        <div class="metric-label">Trend</div>
                        <div class="metric-value" id="trendValue">--</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">Nearest Resistance</div>
                        <div class="metric-value" id="resistanceValue">--</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-label">Nearest Support</div>
                        <div class="metric-value" id="supportValue">--</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class WorkingPivotCalculator {
            constructor() {
                this.chart = null;
                this.candleSeries = null;
                this.pivotLines = [];
                this.currentData = null;
                this.currentPivotType = 'standard';
                this.init();
            }

            init() {
                this.setupEventListeners();
                this.initializeChart();
                this.loadRealSPYData();
            }

            setupEventListeners() {
                document.getElementById('loadBtn').addEventListener('click', () => this.loadRealSPYData());
                document.getElementById('symbolInput').addEventListener('keypress', (e) => {
                    if (e.key === 'Enter') this.loadRealSPYData();
                });
                document.getElementById('pivotTypeSelect').addEventListener('change', (e) => {
                    this.currentPivotType = e.target.value;
                    this.updatePivots();
                });
            }

            async loadRealSPYData() {
                const symbol = document.getElementById('symbolInput').value.toUpperCase() || 'SPY';
                this.setStatus('loading', `Loading ${symbol}...`);
                this.showBanner('Loading real market data...', 'info');

                try {
                    // Get real SPY data using a working API endpoint
                    const data = await this.fetchRealMarketData(symbol);
                    this.currentData = data;

                    this.updateMarketDisplay(data);
                    this.updateChart(data);
                    this.updatePivots();

                    this.setStatus('connected', `${symbol} data loaded`);
                    this.showBanner(`âœ“ Real ${symbol} data loaded successfully`, 'success');

                } catch (error) {
                    console.error('Error loading data:', error);
                    this.setStatus('error', 'Load failed');
                    this.showBanner(`Failed to load real data: ${error.message}`, 'error');

                    // Fallback to realistic demo data based on current SPY price
                    this.loadRealisticDemoData(symbol);
                }
            }

            async fetchRealMarketData(symbol) {
                // Try different approaches to get real data
                const approaches = [
                    () => this.fetchFromAlphaVantage(symbol),
                    () => this.fetchFromFinnhub(symbol),
                    () => this.fetchFromYahooProxy(symbol)
                ];

                for (const approach of approaches) {
                    try {
                        return await approach();
                    } catch (error) {
                        console.warn('Data source failed:', error.message);
                        continue;
                    }
                }

                throw new Error('All real data sources unavailable');
            }

            async fetchFromYahooProxy(symbol) {
                // Use a CORS proxy to access Yahoo Finance
                const proxyUrl = `https://api.allorigins.win/get?url=${encodeURIComponent(
                    `https://query1.finance.yahoo.com/v8/finance/chart/${symbol}?range=1mo&interval=1d`
                )}`;

                const response = await fetch(proxyUrl);
                if (!response.ok) throw new Error('Proxy request failed');

                const proxyData = await response.json();
                const data = JSON.parse(proxyData.contents);

                if (!data.chart?.result?.[0]) {
                    throw new Error('Invalid Yahoo Finance response');
                }

                return this.processYahooData(data.chart.result[0]);
            }

            async fetchFromAlphaVantage(symbol) {
                // Note: Requires API key - this is a placeholder
                throw new Error('AlphaVantage requires API key');
            }

            async fetchFromFinnhub(symbol) {
                // Note: Requires API key - this is a placeholder
                throw new Error('Finnhub requires API key');
            }

            processYahooData(result) {
                const meta = result.meta;
                const timestamps = result.timestamp;
                const quotes = result.indicators.quote[0];

                const candles = timestamps.map((time, i) => ({
                    time: time,
                    open: Number(quotes.open[i]?.toFixed(2) || 0),
                    high: Number(quotes.high[i]?.toFixed(2) || 0),
                    low: Number(quotes.low[i]?.toFixed(2) || 0),
                    close: Number(quotes.close[i]?.toFixed(2) || 0)
                })).filter(c => c.open > 0 && c.high > 0 && c.low > 0 && c.close > 0);

                const latest = candles[candles.length - 1];
                const previous = candles[candles.length - 2];

                return {
                    symbol: meta.symbol,
                    currentPrice: meta.regularMarketPrice || latest.close,
                    previousClose: meta.previousClose || previous.close,
                    open: latest.open,
                    high: latest.high,
                    low: latest.low,
                    close: latest.close,
                    candles: candles,
                    lastUpdated: new Date().toLocaleString(),
                    source: 'Yahoo Finance (Real)'
                };
            }

            loadRealisticDemoData(symbol) {
                // Generate realistic demo data based on actual SPY trading range
                this.showBanner(`Loading realistic ${symbol} demo data (real APIs blocked by CORS)`, 'info');

                // Current realistic SPY price range (November 2024)
                const basePrice = symbol === 'SPY' ? 592.50 :
                                 symbol === 'QQQ' ? 495.30 :
                                 symbol === 'IWM' ? 231.80 : 450.00;

                const candles = [];
                const currentTime = Math.floor(Date.now() / 1000);

                // Generate 30 days of realistic market data
                for (let i = -30; i <= 0; i++) {
                    const time = currentTime + (i * 86400);
                    const volatility = symbol === 'SPY' ? 0.015 : 0.025; // SPY is less volatile
                    const trend = i * 0.0005; // Slight upward trend

                    const open = basePrice + (Math.random() - 0.5) * basePrice * volatility + trend * basePrice;
                    const close = open + (Math.random() - 0.5) * basePrice * volatility * 0.8;
                    const high = Math.max(open, close) + Math.random() * basePrice * volatility * 0.3;
                    const low = Math.min(open, close) - Math.random() * basePrice * volatility * 0.3;

                    candles.push({
                        time: time,
                        open: Number(open.toFixed(2)),
                        high: Number(high.toFixed(2)),
                        low: Number(low.toFixed(2)),
                        close: Number(close.toFixed(2))
                    });
                }

                const latest = candles[candles.length - 1];
                const previous = candles[candles.length - 2];

                this.currentData = {
                    symbol: `${symbol} (Demo)`,
                    currentPrice: latest.close,
                    previousClose: previous.close,
                    open: latest.open,
                    high: latest.high,
                    low: latest.low,
                    close: latest.close,
                    candles: candles,
                    lastUpdated: new Date().toLocaleString(),
                    source: 'Realistic Demo Data'
                };

                this.updateMarketDisplay(this.currentData);
                this.updateChart(this.currentData);
                this.updatePivots();

                this.setStatus('connected', `${symbol} demo loaded`);
            }

            updateMarketDisplay(data) {
                const change = data.currentPrice - data.previousClose;
                const changePercent = (change / data.previousClose) * 100;

                document.getElementById('openValue').textContent = data.open.toFixed(2);
                document.getElementById('highValue').textContent = data.high.toFixed(2);
                document.getElementById('lowValue').textContent = data.low.toFixed(2);
                document.getElementById('closeValue').textContent = data.close.toFixed(2);
                document.getElementById('currentValue').textContent = data.currentPrice.toFixed(2);
                document.getElementById('lastUpdated').textContent = data.lastUpdated;

                const changeText = `${change >= 0 ? '+' : ''}${change.toFixed(2)} (${changePercent >= 0 ? '+' : ''}${changePercent.toFixed(2)}%)`;
                const changeClass = `data-change ${change >= 0 ? 'positive' : 'negative'}`;

                document.getElementById('closeChange').textContent = changeText;
                document.getElementById('closeChange').className = changeClass;
                document.getElementById('currentChange').textContent = changeText;
                document.getElementById('currentChange').className = changeClass;
            }

            initializeChart() {
                if (!window.LightweightCharts) {
                    console.error('LightweightCharts not available');
                    return;
                }

                const container = document.getElementById('chartContainer');
                this.chart = window.LightweightCharts.createChart(container, {
                    width: container.clientWidth,
                    height: container.clientHeight,
                    layout: {
                        background: { color: '#0c111b' },
                        textColor: '#e6e6e6'
                    },
                    grid: {
                        vertLines: { color: 'rgba(255,255,255,0.1)' },
                        horzLines: { color: 'rgba(255,255,255,0.1)' }
                    },
                    timeScale: {
                        timeVisible: true,
                        secondsVisible: false,
                        borderColor: 'rgba(255,255,255,0.1)'
                    },
                    rightPriceScale: {
                        autoScale: true,
                        borderColor: 'rgba(255,255,255,0.1)'
                    }
                });

                this.candleSeries = this.chart.addCandlestickSeries({
                    upColor: '#26a69a',
                    downColor: '#ef5350',
                    borderVisible: false,
                    wickUpColor: '#26a69a',
                    wickDownColor: '#ef5350'
                });

                // Handle window resize
                window.addEventListener('resize', () => {
                    this.chart.applyOptions({
                        width: container.clientWidth,
                        height: container.clientHeight
                    });
                });
            }

            updateChart(data) {
                if (!this.chart || !this.candleSeries) return;

                // Update candlestick data
                this.candleSeries.setData(data.candles);
            }

            updatePivots() {
                if (!this.currentData) return;

                const { high, low, close } = this.currentData;
                let pivotLevels = {};

                switch (this.currentPivotType) {
                    case 'standard':
                        pivotLevels = this.calculateStandardPivots(high, low, close);
                        break;
                    case 'fibonacci':
                        pivotLevels = this.calculateFibonacciPivots(high, low, close);
                        break;
                    case 'camarilla':
                        pivotLevels = this.calculateCamarillaPivots(high, low, close);
                        break;
                }

                this.updatePivotTable(pivotLevels);
                this.updatePivotLines(pivotLevels);
                this.updateAnalysis(pivotLevels);

                // Calculate and display ATR
                const atr = this.calculateATR(this.currentData.candles);
                document.getElementById('atrValue').textContent = atr ? atr.toFixed(4) : '--';
            }

            calculateStandardPivots(high, low, close) {
                const pivot = (high + low + close) / 3;
                return {
                    R3: 2 * pivot + (high - low),
                    R2: pivot + (high - low),
                    R1: 2 * pivot - low,
                    PP: pivot,
                    S1: 2 * pivot - high,
                    S2: pivot - (high - low),
                    S3: 2 * pivot - (high - low)
                };
            }

            calculateFibonacciPivots(high, low, close) {
                const pivot = (high + low + close) / 3;
                const range = high - low;
                return {
                    'R2': pivot + (range * 0.618),
                    'R1': pivot + (range * 0.382),
                    'PP': pivot,
                    'S1': pivot - (range * 0.382),
                    'S2': pivot - (range * 0.618)
                };
            }

            calculateCamarillaPivots(high, low, close) {
                const range = high - low;
                return {
                    'R4': close + (range * 1.1 / 2),
                    'R3': close + (range * 1.1 / 4),
                    'R2': close + (range * 1.1 / 6),
                    'R1': close + (range * 1.1 / 12),
                    'PP': close,
                    'S1': close - (range * 1.1 / 12),
                    'S2': close - (range * 1.1 / 6),
                    'S3': close - (range * 1.1 / 4),
                    'S4': close - (range * 1.1 / 2)
                };
            }

            calculateATR(candles, period = 14) {
                if (candles.length < period + 1) return null;

                const trueRanges = [];
                for (let i = 1; i < candles.length; i++) {
                    const current = candles[i];
                    const previous = candles[i - 1];

                    const tr1 = current.high - current.low;
                    const tr2 = Math.abs(current.high - previous.close);
                    const tr3 = Math.abs(current.low - previous.close);

                    trueRanges.push(Math.max(tr1, tr2, tr3));
                }

                const recentTRs = trueRanges.slice(-period);
                return recentTRs.reduce((sum, tr) => sum + tr, 0) / recentTRs.length;
            }

            updatePivotTable(pivotLevels) {
                const tbody = document.getElementById('pivotTableBody');
                const currentPrice = this.currentData.currentPrice;

                tbody.innerHTML = '';

                const sortedLevels = Object.entries(pivotLevels).sort((a, b) => b[1] - a[1]);

                sortedLevels.forEach(([label, price]) => {
                    const distance = ((price - currentPrice) / currentPrice) * 100;
                    const distanceClass = distance > 0 ? 'above' : 'below';

                    let levelType = 'level-pivot';
                    if (label.startsWith('R')) levelType = 'level-resistance';
                    else if (label.startsWith('S')) levelType = 'level-support';

                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td class="${levelType}">${label}</td>
                        <td class="price-value">${price.toFixed(2)}</td>
                        <td class="distance-value ${distanceClass}">
                            ${distance >= 0 ? '+' : ''}${distance.toFixed(2)}%
                        </td>
                    `;
                    tbody.appendChild(row);
                });
            }

            updatePivotLines(pivotLevels) {
                if (!this.chart) return;

                // Clear existing lines
                this.pivotLines.forEach(line => {
                    try {
                        this.chart.removeSeries(line);
                    } catch (e) {}
                });
                this.pivotLines = [];

                // Add new lines
                const currentTime = Math.floor(Date.now() / 1000);

                Object.entries(pivotLevels).forEach(([label, price]) => {
                    const lineColor = this.getPivotLineColor(label);

                    const pivotLine = this.chart.addLineSeries({
                        color: lineColor,
                        lineWidth: label === 'PP' ? 2 : 1,
                        priceLineVisible: true,
                        lastValueVisible: true,
                        title: `${label}: ${Number(price).toFixed(2)}`
                    });

                    pivotLine.setData([
                        { time: currentTime - (30 * 24 * 3600), value: price },
                        { time: currentTime + (7 * 24 * 3600), value: price }
                    ]);

                    this.pivotLines.push(pivotLine);
                });
            }

            getPivotLineColor(label) {
                if (label.startsWith('R')) return '#ef5350';
                if (label.startsWith('S')) return '#66bb6a';
                return '#fdd835'; // Pivot point
            }

            updateAnalysis(pivotLevels) {
                const currentPrice = this.currentData.currentPrice;

                // Simple trend analysis
                const candles = this.currentData.candles.slice(-10);
                const closes = candles.map(c => c.close);
                const sma = closes.reduce((sum, close) => sum + close, 0) / closes.length;
                const trend = currentPrice > sma * 1.01 ? 'Bullish' : currentPrice < sma * 0.99 ? 'Bearish' : 'Neutral';

                // Find nearest levels
                const levels = Object.entries(pivotLevels);
                const resistanceLevels = levels.filter(([_, value]) => value > currentPrice).sort((a, b) => a[1] - b[1]);
                const supportLevels = levels.filter(([_, value]) => value < currentPrice).sort((a, b) => b[1] - a[1]);

                document.getElementById('trendValue').textContent = trend;
                document.getElementById('resistanceValue').textContent =
                    resistanceLevels.length > 0 ? `${resistanceLevels[0][0]}: ${resistanceLevels[0][1].toFixed(2)}` : 'None';
                document.getElementById('supportValue').textContent =
                    supportLevels.length > 0 ? `${supportLevels[0][0]}: ${supportLevels[0][1].toFixed(2)}` : 'None';
            }

            setStatus(type, message) {
                const dot = document.getElementById('statusDot');
                const text = document.getElementById('statusText');
                dot.className = `status-dot ${type}`;
                text.textContent = message;
            }

            showBanner(message, type) {
                const banner = document.getElementById('banner');
                banner.className = type === 'error' ? 'error-banner' :
                                  type === 'success' ? 'success-banner' : '';
                banner.textContent = message;
                banner.style.display = 'block';

                if (type === 'success') {
                    setTimeout(() => {
                        banner.style.display = 'none';
                    }, 3000);
                }
            }
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', () => {
            window.pivotCalculator = new WorkingPivotCalculator();
        });
    </script>
</body>
</html>